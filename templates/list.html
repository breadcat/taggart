<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Files</title>
  <link rel="stylesheet" type="text/css" href="/static/style.css">
</head>
<body>
<h1>Files</h1>
<p><a href="/upload">Upload new file</a> | <a href="/tags">Browse tags</a> | <a href="/untagged">Untagged files</a></p>

<h2>Tagged Files</h2>
<ul>
{{range .Tagged}}
  <li>
    <a href="/file/{{.ID}}">{{.Filename}}</a><br>
    {{if hasAnySuffix .Filename ".jpg" ".jpeg" ".png" ".gif" ".webp"}}
      <img src="/uploads/{{.Filename}}" style="max-width:150px">
    {{else if hasAnySuffix .Filename ".mp4" ".webm" ".mov"}}
      <video width="150" controls>
        <source src="/uploads/{{.Filename}}">
      </video>
    {{end}}
  </li>
{{else}}
  <li>No tagged files yet.</li>
{{end}}
</ul>

<h2>Untagged Files</h2>
<ul>
{{range .Untagged}}
  <li>
    <a href="/file/{{.ID}}">{{.Filename}}</a><br>
    {{if hasAnySuffix .Filename ".jpg" ".jpeg" ".png" ".gif" ".webp"}}
      <img src="/uploads/{{.Filename}}" style="max-width:150px">
    {{else if hasAnySuffix .Filename ".mp4" ".webm" ".mov"}}
      <video width="150" controls>
        <source src="/uploads/{{.Filename}}">
      </video>
    {{end}}
  </li>
{{else}}
  <li>No untagged files.</li>
{{end}}
</ul>
</body>
</html>
